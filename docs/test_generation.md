# New Practice Test Generation Component (Team E4)

We have created functionality for students and instructors to upload resources and then students can prompt ChatGPT in order for it to create a practice test to help the student study.

### API Routes

We have a resources path and a practice_test path for API routes. The resource path allows instructors or students to upload pdf files for chatgpt to consider when making practice tests, and it also has get and delete routes to retrieve and delete resources as necessary. Similarly for the practice_test path there is a post route where the OpenAI API is called to generate the test, and then get and delete routes to retrieve and delete practice tests as necessary. For both of these paths, the creations are stored in a PostgreSQL database that is implemented using SQLAlchemy.

### Pydantic Models

For the resources routes and entity we have one model called Resource, which has an id for the resource, a title for display, and a the file name. Then for the practice test generation route we have an AIRequest model that stores the user prompt, a list of types of questions wanted for the practice test (eg. Multiple Choice, Short Answer, etc.), and a list of uploaded resource files to aid in generating the practice test. Then we have an AIResponse model which is used to save the information in the practice_test SQL entity, and this model stores an id for the test, the user who created the test, the course the test was created for, the user prompt for the OpenAI API, the output of the API, the time the test was created at, and whether the test is instructor approved. There is also a OpenAPIResponse model to store the practice test generated by the OpenAI API as a string. 

### Entities

The resources and practice_test routes each have their own SQL entity to store new entries made my the post routes. The resource_entity stores the resource id, the title, the file name, the file data, the course id, and the course. The practice_test entity stores the resource id, the user who created the test, the course the test was made for, the user prompt for the API, the contents of the test, the time the test was created at, and whether the practice test is instructor approved.