@if (!isLoading && testData) {
  <div class="container">
    <div class="left-column">
      <div class="summary-card">
        <h3>Practice Test #{{ testData.response_id }}</h3>
        <p class="timestamp">Generated at {{ testData.created_at | date:'medium' }} </p>
        <br>
        <h4>Prompt</h4>
        <p>{{ testData.requested_prompt || 'No prompt available' }}</p>
        <br>
        <h4>Resources</h4>
        <ol>
          @for (resource of testData.resources; track resource;) {
            <li>{{ resource }}</li>
          }
        </ol>
      </div>
    </div>

    <div class="right-column">
      <div class="test-preview">
        <iframe id="pdf-preview" width="100%" height="600px" style="border-radius: 12px; border: none;"></iframe>
      </div>

      @if (downloadUrl) {
        <a [href]="downloadUrl" target="_blank" download="practice-test.pdf">
          <button mat-raised-button class="download-button">
            Download PDF
          </button>
        </a>
      }
    </div>
  </div>
}
