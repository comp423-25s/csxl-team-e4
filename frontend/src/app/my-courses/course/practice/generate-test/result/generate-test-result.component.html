@if (!isLoading && testData) {
  <div class="container">
    <div class="left-column">
      <mat-card class="summary-card">
        <h3>Practice Test #{{ testData.response_id }}</h3>
        <p class="timestamp">Generated at {{ testData.created_at | date:'medium' }} </p>
        <br>
        <h4>Prompt</h4>
        <p>{{ testData.requested_prompt || 'No prompt available' }}</p>
        <br>
        <h4>Resources</h4>
        <mat-list>
          @for (resource of testData.resources; track resource;) {
            <mat-list-item>{{ resource }}</mat-list-item>
          }
        </mat-list>

      </mat-card>
    </div>

    <div class="right-column">
      <mat-card class="test-preview">
        <iframe id="pdf-preview" width="100%" height="600px" style="border-radius: 12px; border: none;"></iframe>
      </mat-card>

      @if (downloadUrl) {
        <a [href]="downloadUrl" target="_blank" download="practice-test.pdf">
          <button mat-raised-button class="download-button">
            Download PDF
          </button>
        </a>
      }
    </div>
  </div>
}
